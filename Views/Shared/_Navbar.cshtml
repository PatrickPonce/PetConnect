@using Microsoft.AspNetCore.Identity
@using PetConnect.Services

@inject ConfiguracionSitioService configService
@inject SignInManager<IdentityUser> SignInManager

@{
    var logoUrl = await configService.ObtenerValorAsync("UrlLogo", "/images/logoP.png");
    var nombreSitio = await configService.ObtenerValorAsync("NombreSitio", "Purr & Paws");
}

<header class="app-header">
    <div class="logo-container">
        <div class="logo-icon">
            <img src="@logoUrl" alt="@nombreSitio Logo">
        </div>
        <span class="logo-text">@nombreSitio</span>
    </div>

    <nav class="main-nav">
        <ul>
            <li>
                <a asp-controller="Home" asp-action="Guest">
                    <span class="material-symbols-outlined">home</span>
                    <span class="nav-text">Inicio</span>
                </a>
            </li>
            <li>
                <a asp-controller="Noticias" asp-action="Index">
                    <span class="material-symbols-outlined">newspaper</span>
                    <span class="nav-text">Noticias</span>
                </a>
            </li>
            <li>
                <a asp-controller="Directorio" asp-action="Index">
                    <span class="material-symbols-outlined">volunteer_activism</span>
                    <span class="nav-text">Servicios</span>
                </a>
            </li>
            @if (SignInManager.IsSignedIn(User))
            {
                <li>
                    <a asp-controller="Favorites" asp-action="Index">
                        <span class="material-symbols-outlined">favorite</span>
                        <span class="nav-text">Favoritos</span>
                    </a>
                </li>
                <li>
                    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home")" method="post">
                         <a href="#" onclick="$(this).closest('form').submit(); return false;">
                             <span class="material-symbols-outlined">logout</span>
                             <span class="nav-text">Cerrar Sesión</span>
                         </a>
                    </form>
                </li>
            }
            else
            {
                <li>
                    <a asp-area="Identity" asp-page="/Account/Login">
                        <span class="material-symbols-outlined">login</span>
                        <span class="nav-text">Iniciar Sesión</span>
                    </a>
                </li>
            }
        </ul>
    </nav>
</header>